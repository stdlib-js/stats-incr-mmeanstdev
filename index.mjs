// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";var a=e.isPrimitive,m=t,d=s,l=r,o=i,f=n;var j=function(e,t){var s,r,i,n,j,p,h,u,v,g;if(1===arguments.length)s=[0,0],h=e;else{if(!m(e))throw new TypeError(f("invalid argument. Output argument must be an array-like object. Value: `%s`.",e));s=e,h=t}if(!a(h))throw new TypeError(f("invalid argument. Window size must be a positive integer. Value: `%s`.",h));return i=new o(h),v=h-1,j=0,p=0,g=-1,u=0,b;function b(e){var t,a;if(0===arguments.length)return 0===u?null:(s[0]=p,1===u?d(j)?s[1]=NaN:s[1]=0:s[1]=l(u<h?j/(u-1):j/v),s);if(g=(g+1)%h,d(e))u=h,p=NaN,j=NaN;else{if(u<h)return i[g]=e,j+=(r=e-p)*(e-(p+=r/(u+=1))),s[0]=p,s[1]=1===u?0:l(j/(u-1)),s;if(1===u)return p=e,j=0,s[0]=e,s[1]=0,s;if(d(i[g])){for(u=1,p=e,j=0,t=0;t<h;t++)if(t!==g){if(a=i[t],d(a)){u=h,p=NaN,j=NaN;break}j+=(r=a-p)*(a-(p+=r/(u+=1)))}}else!1===d(j)&&(n=i[g],j+=(r=e-n)*(n-p+(e-(p+=r/h))))}return i[g]=e,s[0]=p,s[1]=l(j/v),s}};export{j as default};
//# sourceMappingURL=index.mjs.map
