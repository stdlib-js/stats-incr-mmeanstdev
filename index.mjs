// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";function m(m,o){var d,a,l,f,j,h,p,b,c,g;if(1===arguments.length)d=[0,0],p=m;else{if(!s(m))throw new TypeError(n("1IX9a,Hy",m));d=m,p=o}if(!e(p))throw new TypeError(n("1IX9b,Hn",p));return l=new i(p),c=p-1,j=0,h=0,g=-1,b=0,v;function v(e){var s,i;if(0===arguments.length)return 0===b?null:(d[0]=h,1===b?t(j)?d[1]=NaN:d[1]=0:d[1]=r(b<p?j/(b-1):j/c),d);if(g=(g+1)%p,t(e))b=p,h=NaN,j=NaN;else{if(b<p)return l[g]=e,j+=(a=e-h)*(e-(h+=a/(b+=1))),d[0]=h,d[1]=1===b?0:r(j/(b-1)),d;if(1===b)return h=e,j=0,d[0]=e,d[1]=0,d;if(t(l[g])){for(b=1,h=e,j=0,s=0;s<p;s++)if(s!==g){if(i=l[s],t(i)){b=p,h=NaN,j=NaN;break}j+=(a=i-h)*(i-(h+=a/(b+=1)))}}else!1===t(j)&&(f=l[g],j+=(a=e-f)*(f-h+(e-(h+=a/p))))}return l[g]=e,d[0]=h,d[1]=r(j/c),d}}export{m as default};
//# sourceMappingURL=index.mjs.map
